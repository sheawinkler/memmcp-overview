<svg xmlns="http://www.w3.org/2000/svg" width="1700" height="1080" viewBox="0 0 1700 1080" role="img" aria-label="Task coordination and agent communication workflow through the Context Lattice orchestrator">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#192434"/>
      <stop offset="100%" stop-color="#111a25"/>
    </linearGradient>
    <radialGradient id="glowA" cx="20%" cy="8%" r="60%">
      <stop offset="0%" stop-color="#88a5d2" stop-opacity="0.22"/>
      <stop offset="100%" stop-color="#88a5d2" stop-opacity="0"/>
    </radialGradient>
    <marker id="arrow" markerWidth="12.1" markerHeight="12.1" refX="9.7" refY="6.05" orient="auto" markerUnits="userSpaceOnUse">
      <path d="M0 0 L12.1 6.05 L0 12.1 Z" fill="#deebfc"/>
    </marker>
    <marker id="arrowAsync" markerWidth="12.1" markerHeight="12.1" refX="9.7" refY="6.05" orient="auto" markerUnits="userSpaceOnUse">
      <path d="M0 0 L12.1 6.05 L0 12.1 Z" fill="#94d8e8"/>
    </marker>
    <marker id="arrowLearn" markerWidth="12.1" markerHeight="12.1" refX="9.7" refY="6.05" orient="auto" markerUnits="userSpaceOnUse">
      <path d="M0 0 L12.1 6.05 L0 12.1 Z" fill="#dcc18a"/>
    </marker>
    <style><![CDATA[
      .frame { fill: url(#bg); stroke: #69788b; stroke-width: 1.4; }
      .boundary { fill: rgba(255,255,255,0.02); stroke: #cdd8e8; stroke-width: 2; stroke-dasharray: 10 8; }
      .node { fill: #1f2b3a; stroke: #cfdbeb; stroke-width: 2; }
      .core { fill: #8f551f; stroke: #f2d3ad; stroke-width: 2.4; }
      .worker-box { fill: rgba(19, 35, 49, 0.78); stroke: #94d8e8; stroke-width: 2; stroke-dasharray: 10 8; }
      .title { font: 700 20px 'IBM Plex Mono', monospace; fill: #d4deeb; letter-spacing: 0.09em; }
      .h2 { font: 700 38px 'IBM Plex Sans', sans-serif; fill: #eef4fd; }
      .label { font: 700 24px 'IBM Plex Sans', sans-serif; fill: #f1f6ff; }
      .label-sm { font: 700 21px 'IBM Plex Sans', sans-serif; fill: #f1f6ff; }
      .sub { font: 600 19px 'IBM Plex Sans', sans-serif; fill: #d2ddec; }
      .sub-sm { font: 600 16px 'IBM Plex Sans', sans-serif; fill: #c8d6e8; }
      .lane { font: 700 24px 'IBM Plex Sans', sans-serif; fill: #d8e3f2; }
      .sync { stroke: #deebfc; stroke-width: 3.2; fill: none; stroke-linecap: round; stroke-linejoin: round; }
      .async { stroke: #94d8e8; stroke-width: 3.2; fill: none; stroke-dasharray: 10 8; stroke-linecap: round; stroke-linejoin: round; }
      .learn { stroke: #dcc18a; stroke-width: 3.2; fill: none; stroke-dasharray: 4 8; stroke-linecap: round; stroke-linejoin: round; }
      .legend { fill: rgba(15, 19, 24, 0.92); stroke: rgba(225, 235, 246, 0.5); stroke-width: 1.7; }
    ]]></style>
  </defs>

  <rect x="0" y="0" width="1700" height="1080" class="frame"/>
  <rect x="0" y="0" width="1700" height="1080" fill="url(#glowA)"/>
  <text x="850" y="66" text-anchor="middle" class="title">TASK COORDINATION + AGENT COMMUNICATION</text>

  <rect x="250" y="116" width="1200" height="860" rx="72" class="boundary"/>
  <text x="850" y="190" text-anchor="middle" class="h2">Context Lattice Task Plane</text>

  <rect x="40" y="330" width="220" height="182" rx="30" class="node"/>
  <text x="150" y="396" text-anchor="middle" class="label">Agent Clients</text>
  <text x="150" y="430" text-anchor="middle" class="sub">agents</text>
  <text x="150" y="458" text-anchor="middle" class="sub">messaging apps</text>
  <text x="150" y="486" text-anchor="middle" class="sub">MCP callers</text>

  <rect x="1440" y="330" width="220" height="182" rx="30" class="node"/>
  <text x="1550" y="396" text-anchor="middle" class="label">Messaging</text>
  <text x="1550" y="430" text-anchor="middle" class="sub">Telegram / Slack</text>
  <text x="1550" y="458" text-anchor="middle" class="sub">OpenClaw family</text>
  <text x="1550" y="486" text-anchor="middle" class="sub">human-in-loop</text>

  <rect x="620" y="194" width="460" height="100" rx="18" class="core"/>
  <text x="850" y="248" text-anchor="middle" class="label">Orchestrator Task API</text>
  <text x="850" y="274" text-anchor="middle" class="sub-sm">single ingress for task coordination + communication</text>

  <rect x="620" y="318" width="460" height="82" rx="16" class="node"/>
  <text x="850" y="367" text-anchor="middle" class="label-sm">Task Planner + Policy Gate</text>

  <rect x="620" y="422" width="460" height="82" rx="16" class="node"/>
  <text x="850" y="471" text-anchor="middle" class="label-sm">Durable Task Queue + Scheduler</text>

  <rect x="570" y="538" width="560" height="96" rx="16" class="worker-box"/>
  <text x="850" y="592" text-anchor="middle" class="lane">Parallel Agent Workers</text>
  <text x="850" y="618" text-anchor="middle" class="sub-sm">internal runners + external agents (Codex / Claude Code)</text>

  <rect x="350" y="686" width="430" height="132" rx="20" class="node"/>
  <text x="565" y="742" text-anchor="middle" class="label-sm">Context + Memory Services</text>
  <text x="565" y="772" text-anchor="middle" class="sub-sm">memory-bank, qdrant, mongo</text>
  <text x="565" y="796" text-anchor="middle" class="sub-sm">mindsdb + letta</text>

  <rect x="920" y="686" width="430" height="132" rx="20" class="node"/>
  <text x="1135" y="742" text-anchor="middle" class="label-sm">Tool + Model Runtimes</text>
  <text x="1135" y="772" text-anchor="middle" class="sub-sm">Qwen/Ollama, LM Studio</text>
  <text x="1135" y="796" text-anchor="middle" class="sub-sm">OpenAI-compatible + external tools</text>

  <rect x="620" y="850" width="460" height="88" rx="18" class="node"/>
  <text x="850" y="904" text-anchor="middle" class="label-sm">Result Composer + Task State Write</text>

  <rect x="1110" y="130" width="298" height="132" rx="16" class="legend"/>
  <text x="1138" y="162" class="sub">Legend</text>
  <path class="sync" d="M1138 186 H1246" marker-end="url(#arrow)"/>
  <text x="1256" y="192" class="sub-sm">sync task flow</text>
  <path class="async" d="M1138 212 H1246" marker-end="url(#arrowAsync)"/>
  <text x="1256" y="218" class="sub-sm">async worker fanout</text>
  <path class="learn" d="M1138 238 H1246" marker-end="url(#arrowLearn)"/>
  <text x="1256" y="244" class="sub-sm">learning feedback</text>

  <path class="sync" d="M260 420 C420 420,470 244,620 244" marker-end="url(#arrow)"/>
  <path class="sync" d="M1440 420 C1280 420,1230 244,1080 244" marker-end="url(#arrow)"/>

  <path class="sync" d="M850 294 V318" marker-end="url(#arrow)"/>
  <path class="sync" d="M850 400 V422" marker-end="url(#arrow)"/>
  <path class="sync" d="M850 504 V538" marker-end="url(#arrow)"/>

  <path class="async" d="M850 634 V662 C850 674,836 680,820 680 H610 C590 680,576 682,565 686" marker-end="url(#arrowAsync)"/>
  <text x="690" y="672" class="sub-sm" fill="#94d8e8">execution outcome</text>

  <path class="sync" d="M930 634 C1000 650,1080 668,1135 686" marker-end="url(#arrow)"/>

  <path class="learn" d="M430 686 V648 C430 636,444 632,460 632 H810 C830 632,842 630,850 634" marker-end="url(#arrowLearn)"/>
  <text x="640" y="622" class="sub-sm" fill="#dcc18a">outcome writeback</text>

  <path class="sync" d="M565 818 C650 832,716 844,770 858" marker-end="url(#arrow)"/>
  <path class="sync" d="M1135 818 C1050 832,984 844,930 858" marker-end="url(#arrow)"/>

  <path class="sync" d="M620 894 C480 894,350 828,260 500" marker-end="url(#arrow)"/>
  <path class="sync" d="M1080 894 C1220 894,1350 828,1440 500" marker-end="url(#arrow)"/>

  <path class="learn" d="M1240 686 C1300 620,1290 490,1080 380" marker-end="url(#arrowLearn)"/>
  <text x="1278" y="600" class="sub-sm" fill="#dcc18a">routing quality feedback</text>
</svg>
